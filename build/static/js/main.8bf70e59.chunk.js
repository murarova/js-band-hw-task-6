(this["webpackJsonpjs-band-hw-task-6"]=this["webpackJsonpjs-band-hw-task-6"]||[]).push([[0],{26:function(e,t,n){e.exports=n(45)},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),l=n.n(o),i=n(16),c=n(11),s=n(5),m=n(19),u=n(6),p=n(7),f=n(9),d=n(8),b=n(10),h=n(23),v=n.n(h);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var O={title:"",text:"",priority:"high",id:"",done:!1},g=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){return n.setState(Object(s.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){var t=n.state,a=t.title,r=t.text,o=t.priority,l=t.done,i=t.id;e.preventDefault(),r&&a?(n.props.onSubmit(a,r,o,i,l),n.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},O))):alert("Please, fill all form fields")},n.state=e.note||O,n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.text,n=e.title,a=this.props.onCancel;return r.a.createElement("div",{className:"col-xs-10 col-sm-8 col-md-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("form",{className:"form",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Title:"),r.a.createElement("input",{className:"form-control",name:"title",type:"text",placeholder:"Title",value:n,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",null,"Description:"),r.a.createElement("textarea",{className:"form-control",rows:"5",placeholder:"Description",name:"text",value:t,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("p",{className:"modal-title"},"Priority:"),r.a.createElement("select",{className:"form-control",name:"priority",onBlur:this.onChange},r.a.createElement("option",{value:"high"},"high"),r.a.createElement("option",{value:"normal"},"normal"),r.a.createElement("option",{value:"low"},"low"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Create"),r.a.createElement("button",{className:"btn btn-danger",type:"submit",onClick:a},"Cancel")))))))}}]),t}(a.Component);g.defaultProps={note:{}};var y=g,N=function(e){var t=e.items;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("button",{type:"button",className:e.className,key:e.name,onClick:e.onClick},e.name)})))},w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).onClick=function(){n.setState((function(e){return{isDropdawnOpen:!e.isDropdawnOpen}}))},n.close=function(){var e=setTimeout((function(){n.setState({isDropdawnOpen:!1})}),100);n.setState({timeout:e})},n.componentWillUnmount=function(){clearTimeout(n.state.timeout)},n.state={isDropdawnOpen:!1,timeout:null},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.text,a=e.priority,o=e.id,l=e.done,i=e.onDelete,c=e.onEdit,s=e.onDone,m=this.state.isDropdawnOpen,u=[{name:"Done",className:"btn btn-success dropdawn-btn",onClick:s},{name:"Edit",className:"btn btn-info dropdawn-btn",onClick:c},{name:"Delete",className:"btn btn-danger dropdawn-btn",onClick:i}];return r.a.createElement("li",{className:l?"done note":"note",key:o},r.a.createElement("h3",{className:"title"},t),r.a.createElement("p",{className:"text"},n),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"button",className:"high"===a?"btn btn-danger":"low"===a?"btn btn-info":"btn btn-primary"},a),r.a.createElement("div",{className:"dropdawn-wrapper",onBlur:this.close},r.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:this.onClick},"..."),m&&r.a.createElement("div",{className:"dropdown"},r.a.createElement(N,{onClose:this.onClose,items:u})))))}}]),t}(a.Component);w.defaultProps={title:"",text:"",priority:"high",id:"",done:!1};var j=w,C=function(e){var t=e.notes,n=e.onDelete,a=e.onEdit,o=e.onDone;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("ul",{className:"note-list"},t.map((function(e){var t=e.title,l=e.text,i=e.priority,c=e.id,s=e.done;return r.a.createElement(j,{key:c,title:t,text:l,id:c,priority:i,done:s,onDelete:function(){return n(c)},onEdit:function(){return a(c)},onDone:function(){return o(c)}})})))))},k=function(e){var t=e.onClick,n=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("form",{className:"form-inline main-form"},r.a.createElement("div",{className:"col-xs-12 col-sm-5"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("input",{type:"text",className:"form-control width-100",name:"title",placeholder:"search by title",onChange:n}))),r.a.createElement("div",{className:"col-xs-12 col-sm-2"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("select",{className:"form-control width-100",name:"done",onChange:n},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"open"},"open"),r.a.createElement("option",{value:"done"},"done")))),r.a.createElement("div",{className:"col-xs-12 col-sm-2"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("select",{className:"form-control width-100",name:"priority",onChange:n},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"high"},"high"),r.a.createElement("option",{value:"normal"},"normal"),r.a.createElement("option",{value:"low"},"low")))),r.a.createElement("div",{className:"col-xs-12 col-sm-3"},r.a.createElement("div",{className:"form-group width-100"},r.a.createElement("button",{type:"button",className:"btn btn-primary width-100",onClick:t},"Create")))))))},S=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).backdropeRef=Object(a.createRef)(),n.handleKeyPress=function(e){"Escape"===e.code&&n.props.onClose()},n.handleBackDropClick=function(e){var t=n.backdropeRef.current;t&&e.target!==t||n.props.onClose()},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.children;return r.a.createElement("div",{className:"overlay",onClick:this.handleBackDropClick,ref:this.backdropeRef},e)}}]),t}(a.Component);n(39);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={title:"",priority:"",done:""},F=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e,t,a,r,o){var l=n.state.notes;if(""===r){var i={done:o,title:e,text:t,priority:a,id:v.a.generate()};n.setState((function(e){return{notes:[i].concat(Object(m.a)(e.notes)),filteredNotes:[i].concat(Object(m.a)(e.filteredNotes))}}))}else{var c={done:o,title:e,text:t,priority:a,id:r},s=l.map((function(e){return e.id===r?c:e}));n.setState({notes:s,filteredNotes:s})}n.onClose()},n.onEdit=function(e){var t=n.findNote(e)[0];n.setState({isModalOpen:!0,note:t})},n.onCreate=function(){n.setState({isModalOpen:!0})},n.onClose=function(){n.setState({note:null,isModalOpen:!1})},n.onDelete=function(e){var t=n.state.notes.filter((function(t){return t.id!==e}));n.setState({notes:t,filteredNotes:t})},n.onDone=function(e){var t=n.state.notes,a=n.findNote(e)[0],r=x({},a,{done:!a.done}),o=t.map((function(t){return t.id===e?r:t}));n.setState({notes:o,filteredNotes:o})},n.findNote=function(e){return n.state.notes.filter((function(t){return t.id===e}))},n.onFilterChange=function(e){var t=n.state.filterState;if("all"!==e.target.value)if("open"!==e.target.value)if("done"!==e.target.value){var a=Object(s.a)({},e.target.name,e.target.value);n.setState({filterState:x({},t,{},a)},(function(){return n.filterItems()}))}else{var r=Object(s.a)({},e.target.name,!0);n.setState({filterState:x({},t,{},r)},(function(){return n.filterItems()}))}else{var o=Object(s.a)({},e.target.name,!1);n.setState({filterState:x({},t,{},o)},(function(){return n.filterItems()}))}else{var l=Object(s.a)({},e.target.name,"");n.setState({filterState:x({},t,{},l)},(function(){return n.filterItems()}))}},n.updateFilterNotes=function(e,t){if(e.length>0){var n=[];return e.filter((function(e){return t.forEach((function(t){t.id===e.id&&n.push(t)}))})),n}return t},n.filterItems=function(){var e=n.state,t=e.filterState,a=e.notes,r=e.filteredNotes;Object.values(t).every((function(e){return""===e}))&&n.setState({filteredNotes:a});var o=[];if(""!==r.title){var l=a.filter((function(e){return e.title.toLowerCase().includes(t.title.toLowerCase())}));o=n.updateFilterNotes(o,l)}if(""!==t.done&&"all"!==t.done){var i=a.filter((function(e){return e.done===t.done}));o=n.updateFilterNotes(o,i)}if(""!==t.priority&&"all"!==t.priority){var c=a.filter((function(e){return e.priority===t.priority}));o=n.updateFilterNotes(o,c)}n.setState({filteredNotes:o})},n.state={notes:[],filteredNotes:[],note:null,isModalOpen:!1,filterState:P},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.filteredNotes,n=e.isModalOpen,a=e.note;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("h2",{className:"text-center"},"JS-BAND-HW-TASK-6"),r.a.createElement("div",null,n&&r.a.createElement(S,{onClose:this.onClose},r.a.createElement(y,{note:a,onCancel:this.onClose,onSubmit:this.onSubmit})),r.a.createElement(k,{onChange:this.onFilterChange,onClick:this.onCreate}),t.length>0&&r.a.createElement(C,{notes:t,onEdit:this.onEdit,onDelete:this.onDelete,onDone:this.onDone}))))}}]),t}(a.Component),B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"404"),r.a.createElement("p",null,"Looks like the page you were looking for is no longer here."))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.d,null,r.a.createElement(c.a,{exact:!0,path:"/",to:"/todos"}),r.a.createElement(c.b,{path:"/todos",component:F}),r.a.createElement(c.b,{component:B})))};l.a.render(r.a.createElement(i.a,{basename:"/"},r.a.createElement(I,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.8bf70e59.chunk.js.map